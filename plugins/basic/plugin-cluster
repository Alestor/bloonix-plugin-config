{
   "plugin" : {
      "abstract" : "Check cluster service",
      "command" : "check-cluster",
      "plugin" : "Cluster.ServiceCheck",
      "category" : "Cluster,System,Utilities",
      "description" : "Check the status of multiple services.",
      "info" : {
         "flags" : "",
         "options" : [
            {
               "description" : "The maximum number of services that are allowed in status WARNING.",
               "multiple" : 0,
               "option" : "warning",
               "value_desc" : "number",
               "default" : null,
               "name" : "Warning threshold",
               "mandatory" : 1,
               "value_type" : "number"
            },
            {
               "option" : "critical",
               "multiple" : 0,
               "description" : "The maximum number of services that are allowed in status CRITICAL.",
               "value_type" : "number",
               "default" : null,
               "name" : "Critical threshold",
               "mandatory" : 1,
               "value_desc" : "number"
            },
            {
               "value_type" : "string",
               "value_desc" : "id:status",
               "default" : null,
               "name" : "Service",
               "mandatory" : 1,
               "multiple" : 1,
               "option" : "service",
               "description" : "The service id you want to check."
            }
         ],
         "plugin" : "check-cluster",
         "version" : "0.2",
         "examples" : [
            {
               "description" : [
                  "Check the health of multiple HTTP frontends. If more than or exactly 2 services are in status WARNING then a WARNING status is triggered. If more than or exactly 3 services are in status CRITICAL then a CRITICAL status is triggered."
               ],
               "command_line" : "check-cluster --warning '2' --critical '3' --service '23' --service '24' --service '25' --service '26'",
               "arguments" : [
                  "warning",
                  2,
                  "critical",
                  3,
                  "service",
                  "23",
                  "service",
                  "24",
                  "service",
                  "25",
                  "service",
                  "26"
               ]
            }
         ]
      },
      "prefer" : "remote",
      "id" : "2",
      "datatype" : "none",
      "netaccess" : "yes"
   },
   "statistic" : [
      {
         "description" : "Number of services in status OK.",
         "units" : "null",
         "datatype" : "bigint",
         "statkey" : "OK"
      },
      {
         "datatype" : "bigint",
         "statkey" : "INFO",
         "description" : "Number of services in status INFO.",
         "units" : "null"
      },
      {
         "statkey" : "WARNING",
         "datatype" : "bigint",
         "description" : "Number of services in status WARNING.",
         "units" : "null"
      },
      {
         "datatype" : "bigint",
         "statkey" : "CRITICAL",
         "description" : "Number of services in status CRITICAL.",
         "units" : "null"
      },
      {
         "units" : "null",
         "description" : "Number of services in status UNKNOWN.",
         "statkey" : "UNKNOWN",
         "datatype" : "bigint"
      }
   ],
   "chart" : {
      "options" : {
         "ylabel" : "count status",
         "units" : "null",
         "chart-type" : "area",
         "series" : [
            {
               "name" : "OK",
               "color" : "#4b9768"
            },
            {
               "name" : "INFO",
               "color" : "#2f96b4"
            },
            {
               "name" : "WARNING",
               "color" : "#f89406"
            },
            {
               "name" : "CRITICAL",
               "color" : "#ca2146"
            },
            {
               "color" : "#eb582a",
               "name" : "UNKNOWN"
            }
         ]
      },
      "id" : "1",
      "title" : "Cluster status"
   }
}
