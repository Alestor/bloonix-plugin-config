{
   "plugin" : {
      "description" : "SMTP connect statistics",
      "prefer" : "remote",
      "plugin" : "SMTP.Check",
      "id" : "11",
      "abstract" : "SMTP check",
      "command" : "check-smtp",
      "netaccess" : "yes",
      "worldwide" : "yes",
      "info" : {
         "options" : [
            {
               "name" : "Warning threshold",
               "description" : "A value in seconds. When the check takes longer than this time then a warning status is triggered.",
               "value_type" : "number",
               "default" : 3,
               "mandatory" : 0,
               "multiple" : 0,
               "option" : "warning",
               "value_desc" : "seconds"
            },
            {
               "value_desc" : "seconds",
               "option" : "critical",
               "mandatory" : 0,
               "multiple" : 0,
               "default" : 5,
               "value_type" : "number",
               "description" : "A value in seconds. When the check takes longer than this time then a critical status is triggered.",
               "name" : "Critical threshold"
            },
            {
               "multiple" : 0,
               "mandatory" : 0,
               "option" : "timeout",
               "value_desc" : "seconds",
               "name" : "Timeout",
               "description" : "A timeout in seconds after its expiration the check is aborted and a critical status is triggered.",
               "value_type" : "number",
               "default" : 10
            },
            {
               "name" : "Hostname or IP address",
               "description" : "A hostname or IP address to connect to.",
               "value_type" : "string",
               "default" : null,
               "mandatory" : 1,
               "multiple" : 0,
               "option" : "host",
               "value_desc" : "hostname or ip address"
            },
            {
               "default" : 25,
               "value_type" : "int",
               "description" : "A port number to connect to.",
               "name" : "Port number",
               "value_desc" : "port",
               "option" : "port",
               "multiple" : 0,
               "mandatory" : 0
            },
            {
               "name" : "Bind to IP address",
               "description" : "A local IP address to bind to.",
               "value_type" : "string",
               "default" : null,
               "mandatory" : 0,
               "multiple" : 0,
               "option" : "bind",
               "value_desc" : "ipaddr"
            },
            {
               "name" : "Use secure connection via SSL",
               "mandatory" : 0,
               "multiple" : 0,
               "description" : "Use secure connection via SSL.",
               "option" : "use-ssl",
               "value_type" : 0,
               "default" : null
            },
            {
               "value_desc" : "username",
               "option" : "username",
               "multiple" : 0,
               "mandatory" : 0,
               "default" : null,
               "value_type" : "string",
               "description" : "The username to use for the login.",
               "name" : "Username"
            },
            {
               "option" : "password",
               "value_desc" : "password",
               "multiple" : 0,
               "mandatory" : 0,
               "value_type" : "string",
               "default" : null,
               "name" : "Password",
               "description" : "The password for the user to login."
            },
            {
               "name" : "Mail from",
               "description" : "Set this options if you want that a 'MAIL FROM' will be sent.",
               "value_type" : "string",
               "default" : null,
               "mandatory" : 0,
               "multiple" : 0,
               "option" : "from",
               "value_desc" : "mail-from"
            },
            {
               "description" : "Set this options if you want that a 'RCPT TO' will be sent.",
               "name" : "Mail to",
               "default" : null,
               "value_type" : "string",
               "mandatory" : 0,
               "multiple" : 0,
               "value_desc" : "mail-to",
               "option" : "to"
            },
            {
               "description" : "Set this option to modify the subject of the e-mail.\nAllowed characters: a-zA-Z_0-9 and whitespaces",
               "name" : "The subject of the mail",
               "default" : "Bloonix test mail",
               "value_type" : "string",
               "mandatory" : 0,
               "multiple" : 0,
               "value_desc" : "subject",
               "option" : "subject"
            },
            {
               "default" : null,
               "option" : "send-mail",
               "value_type" : 0,
               "description" : "Set this option if you want that a e-mail is really send\nto the mail account. By default it will only be checked\nif the 'MAIL FROM' and 'RCPT TO' commands are sucessfully\nsend.",
               "multiple" : 0,
               "name" : "Send the mail to the mailbox?",
               "mandatory" : 0
            }
         ],
         "flags" : "",
         "version" : "0.9",
         "examples" : [
            {
               "arguments" : [
                  "host",
                  "mx.host.domain",
                  "warning",
                  5,
                  "critical",
                  8
               ],
               "description" : [
                  "Just a simple SMTP connection to your mail server:"
               ],
               "command_line" : "check-smtp --host 'mx.host.domain' --warning '5' --critical '8'"
            },
            {
               "description" : [
                  "Login to the SMTP server with username and password:"
               ],
               "arguments" : [
                  "host",
                  "mx.host.domain",
                  "warning",
                  5,
                  "critical",
                  8,
                  "username",
                  "bloonix",
                  "password",
                  "secret"
               ],
               "command_line" : "check-smtp --host 'mx.host.domain' --warning '5' --critical '8' --username 'bloonix' --password 'secret'"
            },
            {
               "arguments" : [
                  "host",
                  "mx.host.domain",
                  "warning",
                  5,
                  "critical",
                  8,
                  "from",
                  "from@example.test",
                  "to",
                  "to@example.test",
                  "subject",
                  "Bloonix test mail",
                  "send-mail",
                  null
               ],
               "description" : [
                  "Send an email with the subject 'Bloonix test mail' to the mailbox of to@example.test. In combination with the IMAP check of Bloonix it's possible to check a complete send-and-receive worlflow. If you configure a SMTP check to send a mail with the subject 'Bloonix test mail' then it's possible to pick this mails with the IMAP check."
               ],
               "command_line" : "check-smtp --host 'mx.host.domain' --warning '5' --critical '8' --from 'from@example.test' --to 'to@example.test' --subject 'Bloonix test mail' --send-mail"
            }
         ],
         "plugin" : "check-smtp"
      },
      "datatype" : "statistic",
      "category" : "Network,Mail"
   },
   "chart" : {
      "options" : {
         "chart-type" : "area",
         "units" : "null",
         "series" : {
            "color" : "#005467",
            "name" : "time"
         },
         "ylabel" : "time in ms"
      },
      "title" : "SMTP - time to send a mail",
      "id" : "1"
   },
   "statistic" : {
      "statkey" : "time",
      "datatype" : "float",
      "alias" : "Response time",
      "units" : "ms",
      "description" : "Time in milliseconds to send a mail."
   }
}
