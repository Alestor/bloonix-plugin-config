{
   "plugin" : {
      "command" : "check-open-files",
      "category" : "System,Linux",
      "plugin" : "Linux.OpenFiles.Check",
      "datatype" : "statistic",
      "id" : "33",
      "abstract" : "Open files check",
      "description" : "Linux file statistics.",
      "info" : {
         "flags" : "",
         "options" : [
            {
               "multiple" : 0,
               "name" : "Warning threshold",
               "description" : "This is the warning threshold for real free file hanlders in percent. If less than this value in percent are free a warning status is triggered.",
               "value_type" : "number",
               "option" : "warning",
               "mandatory" : 0,
               "value_desc" : "percent",
               "default" : 10
            },
            {
               "description" : "This is the critical threshold for real free file hanlders in percent. If less than this value in percent are free a critical status is triggered.",
               "value_type" : "number",
               "option" : "critical",
               "multiple" : 0,
               "name" : "Critical threshold",
               "value_desc" : "percent",
               "mandatory" : 0,
               "default" : 5
            }
         ],
         "plugin" : "check-open-files",
         "examples" : [
            {
               "command_line" : "check-open-files --warning '5' --critical '3'",
               "description" : [
                  "Example to check the real free file handlers in percent"
               ],
               "arguments" : [
                  "warning",
                  "5",
                  "critical",
                  "3"
               ]
            }
         ],
         "version" : "0.5"
      }
   },
   "statistic" : [
      {
         "description" : "Number of allocated file handles.",
         "alias" : "FHs allocated",
         "datatype" : "bigint",
         "statkey" : "fh_alloc"
      },
      {
         "datatype" : "bigint",
         "statkey" : "fh_max",
         "alias" : "FHs maximum",
         "description" : "Number of maximum file handles."
      },
      {
         "alias" : "FHs free",
         "description" : "Number of free file handles.",
         "statkey" : "fh_free",
         "datatype" : "bigint"
      },
      {
         "description" : "Number of free inodes.",
         "alias" : "Inodes free",
         "datatype" : "bigint",
         "statkey" : "nr_free_inodes"
      },
      {
         "alias" : "Inodes allocated",
         "description" : "Number of allocated inodes.",
         "datatype" : "bigint",
         "statkey" : "nr_inodes"
      },
      {
         "description" : "Number of allocated dentries (directory cache entries).",
         "alias" : "Dentries allocated",
         "datatype" : "bigint",
         "statkey" : "nr_dentry"
      },
      {
         "description" : "Number of unused dentries (directory cache).",
         "alias" : "Dentries unused",
         "datatype" : "bigint",
         "statkey" : "nr_unused"
      }
   ],
   "chart" : {
      "title" : "Linux - filestats",
      "options" : {
         "series" : [
            {
               "color" : "#005467",
               "name" : "fh_alloc"
            },
            {
               "name" : "nr_inodes",
               "color" : "#e9644a"
            },
            {
               "name" : "nr_free_inodes",
               "color" : "#2ba743"
            },
            {
               "color" : "#9a72ad",
               "name" : "nr_dentry"
            },
            {
               "color" : "#ffb244",
               "name" : "nr_unused"
            }
         ],
         "chart-type" : "area",
         "units" : "default",
         "ylabel" : "count"
      },
      "id" : "1"
   }
}
