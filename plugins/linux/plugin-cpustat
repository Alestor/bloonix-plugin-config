{
   "plugin" : {
      "description" : "Linux CPU statistics",
      "category" : "System,Linux",
      "datatype" : "statistic",
      "command" : "check-cpustat",
      "abstract" : "CPU check",
      "plugin" : "Linux.CPU.Check",
      "info" : {
         "plugin" : "check-cpustat",
         "examples" : [
            {
               "description" : [
                  "The following check configuration would trigger",
                  "",
                  "- a warning if the IOwait is equal or higher than 40%",
                  "- a critical if the IOwait is equal or higher than 60%",
                  "- a warning if the total CPU usage is equal or higher than 90%",
                  "- a critical if the total CPU usage is equal or higher than 95%"
               ],
               "command_line" : "check-cpustat --warning 'iowait:ge:40' --critical 'iowait:ge:60' --warning 'total:ge:90' --critical 'total:ge:95'",
               "arguments" : [
                  "warning",
                  "iowait:ge:40",
                  "critical",
                  "iowait:ge:60",
                  "warning",
                  "total:ge:90",
                  "critical",
                  "total:ge:95"
               ]
            }
         ],
         "options" : [
            {
               "mandatory" : 0,
               "option" : "warning",
               "name" : "Warning threshold",
               "default" : null,
               "value_desc" : "key:value or key:op:value",
               "multiple" : 1,
               "value_type" : "string",
               "description" : "This is the warning threshold. When the value exceeds the threshold a warning status is triggered. Please see the examples for more information."
            },
            {
               "mandatory" : 0,
               "value_desc" : "key:value or key:op:value",
               "option" : "critical",
               "name" : "Critical threshold",
               "default" : null,
               "value_type" : "string",
               "multiple" : 1,
               "description" : "This is the critical threshold. When the value exceeds the threshold a critical status is triggered. Please see the examples for more information."
            }
         ],
         "version" : "0.8",
         "flags" : "",
         "thresholds" : {
            "options" : [
               {
                  "key" : "user",
                  "unit" : "percent"
               },
               {
                  "unit" : "percent",
                  "key" : "system"
               },
               {
                  "key" : "total",
                  "unit" : "percent"
               },
               {
                  "unit" : "percent",
                  "key" : "iowait"
               },
               {
                  "unit" : "percent",
                  "key" : "idle"
               },
               {
                  "unit" : "percent",
                  "key" : "irq"
               },
               {
                  "key" : "softirq",
                  "unit" : "percent"
               },
               {
                  "key" : "steal",
                  "unit" : "percent"
               },
               {
                  "key" : "quest",
                  "unit" : "percent"
               }
            ],
            "info" : [
               "How to set warning and critical thresholds:\n\n",
               "  It's possible to set thresholds for one or more statistic keys.\n",
               "  The format to add a threshold for a statistic key is:\n\n",
               "    key:operator:threshold\n\n",
               "  or if a unit makes sense\n\n",
               "    key:operator:threshold + UNIT\n\n",
               "  where the unit can be in ",
               "percent",
               ".\n\n",
               "  If no operator is set then the default operator is 'ge'.\n\n",
               "  The following operators are available:\n\n",
               "    lt = less than\n",
               "    le = less than or equal\n",
               "    gt = greater than\n",
               "    ge = greater than or equal\n",
               "    eq = equal\n",
               "    ne = not equal\n",
               "\n",
               "  Allowed units for percent: %\n\n"
            ]
         }
      },
      "id" : "18"
   },
   "chart" : {
      "title" : "Linux - cpu usage",
      "id" : "1",
      "options" : {
         "chart-type" : "area",
         "stack" : "true",
         "series" : [
            {
               "color" : "#ffb244",
               "name" : "system"
            },
            {
               "color" : "#9a72ad",
               "name" : "user"
            },
            {
               "name" : "iowait",
               "color" : "#ff0000"
            },
            {
               "name" : "nice",
               "color" : "#005467"
            },
            {
               "color" : "#2ba743",
               "name" : "irq"
            },
            {
               "color" : "#7648eb",
               "name" : "softirq"
            },
            {
               "name" : "steal",
               "color" : "#e9644a"
            },
            {
               "color" : "#666666",
               "name" : "quest"
            },
            {
               "name" : "other",
               "color" : "#bf00bf"
            }
         ],
         "ylabel" : "cpu usage in %",
         "units" : "null"
      }
   },
   "statistic" : [
      {
         "units" : "percent",
         "description" : "Percentage of CPU utilization at the user level.",
         "statkey" : "user",
         "datatype" : "float",
         "alias" : "User"
      },
      {
         "datatype" : "float",
         "statkey" : "nice",
         "units" : "percent",
         "description" : "Time spent in user mode with low priority.",
         "alias" : "Nice"
      },
      {
         "alias" : "System",
         "statkey" : "system",
         "datatype" : "float",
         "description" : "Percentage of CPU utilization at the system level.",
         "units" : "percent"
      },
      {
         "alias" : "Idle",
         "statkey" : "idle",
         "datatype" : "float",
         "units" : "percent",
         "description" : "Percentage of time the CPU is in idle state."
      },
      {
         "statkey" : "iowait",
         "datatype" : "float",
         "description" : "Percentage of time the CPU is in idle state because an i/o operation is waiting for a disk. This statistic is only available since kernel version 2.5.41.",
         "units" : "percent",
         "alias" : "IOwait"
      },
      {
         "statkey" : "irq",
         "datatype" : "float",
         "description" : "Percentage of time the CPU is servicing interrupts. This statistic is only available since kernel version 2.6.0-test4.",
         "units" : "percent",
         "alias" : "IRQ"
      },
      {
         "units" : "percent",
         "description" : "Percentage of time the CPU is servicing softirqs. This statistic is only available since kernel version 2.6.0-test4.",
         "statkey" : "softirq",
         "datatype" : "float",
         "alias" : "Soft IRQ"
      },
      {
         "datatype" : "float",
         "statkey" : "steal",
         "description" : "Percentage of stolen CPU time, which is the time spent in other operating systems when running in a virtualized environment. This statistic is only available since kernel version 2.6.11.",
         "units" : "percent",
         "alias" : "Steal"
      },
      {
         "alias" : "Quest",
         "statkey" : "quest",
         "datatype" : "float",
         "units" : "percent",
         "description" : "Percentage of CPU time, which is the time spent running a virtual CPU for guest operating systems under the control of the Linux kernel. This statistic is only available since kernel version 2.6.24."
      },
      {
         "units" : "percent",
         "description" : "The total usage of the CPU in percent.",
         "datatype" : "float",
         "statkey" : "total",
         "alias" : "Total"
      },
      {
         "datatype" : "float",
         "statkey" : "other",
         "description" : "Summary of unknown fields in /proc/stat.",
         "units" : "percent",
         "alias" : "Other"
      }
   ]
}
