{
   "chart" : [
      {
         "id" : "1",
         "options" : {
            "series" : [
               {
                  "color" : "#005467",
                  "name" : "bytes_used"
               },
               {
                  "color" : "#ff7a0d",
                  "name" : "bytes_free"
               }
            ],
            "units" : "bytes",
            "ylabel" : "bytes",
            "chart-type" : "area"
         },
         "title" : "Memcached - bytes used"
      },
      {
         "title" : "Memcached - network traffic",
         "options" : {
            "series" : [
               {
                  "name" : "bytes_written",
                  "color" : "#005467"
               },
               {
                  "name" : "bytes_read",
                  "color" : "#ff7a0d"
               }
            ],
            "units" : "bytes",
            "ylabel" : "read / written",
            "chart-type" : "area"
         },
         "id" : "2"
      },
      {
         "title" : "Memcached - requests/s",
         "options" : {
            "series" : [
               {
                  "name" : "cmd_set",
                  "color" : "#005467"
               },
               {
                  "name" : "cmd_get",
                  "color" : "#ff7a0d"
               }
            ],
            "units" : "default",
            "ylabel" : "get / set",
            "chart-type" : "area"
         },
         "id" : "3"
      },
      {
         "id" : "4",
         "options" : {
            "chart-type" : "area",
            "ylabel" : "connections",
            "units" : "null",
            "series" : {
               "name" : "curr_connections",
               "color" : "#005467"
            }
         },
         "title" : "Memcached - current connections"
      },
      {
         "id" : "5",
         "options" : {
            "series" : {
               "color" : "#005467",
               "name" : "connections"
            },
            "units" : "null",
            "chart-type" : "area",
            "ylabel" : "connections"
         },
         "title" : "Memcached - connections/s"
      },
      {
         "options" : {
            "series" : {
               "name" : "curr_items",
               "color" : "#005467"
            },
            "chart-type" : "area",
            "ylabel" : "items cached",
            "units" : "null"
         },
         "title" : "Memcached - items cached",
         "id" : "6"
      },
      {
         "title" : "Memcached - items/s cached",
         "options" : {
            "chart-type" : "area",
            "ylabel" : "items cached",
            "units" : "null",
            "series" : {
               "name" : "items",
               "color" : "#005467"
            }
         },
         "id" : "7"
      },
      {
         "options" : {
            "series" : {
               "color" : "#005467",
               "name" : "evictions"
            },
            "chart-type" : "area",
            "ylabel" : "evictions",
            "units" : "null"
         },
         "title" : "Memcached - evictions/s",
         "id" : "8"
      },
      {
         "id" : "9",
         "title" : "Memcached - reclaimed/s",
         "options" : {
            "units" : "null",
            "ylabel" : "reclaimed",
            "chart-type" : "area",
            "series" : {
               "name" : "reclaimed",
               "color" : "#ff7a0d"
            }
         }
      },
      {
         "options" : {
            "units" : "default",
            "ylabel" : "misses / hits",
            "chart-type" : "area",
            "series" : [
               {
                  "color" : "#ff7a0d",
                  "name" : "cmd_set"
               },
               {
                  "name" : "cmd_get",
                  "color" : "#005467"
               }
            ]
         },
         "title" : "Memcached - cache hits and misses",
         "id" : "10"
      },
      {
         "options" : {
            "ylabel" : "miss ratio / hit ratio",
            "chart-type" : "area",
            "units" : "default",
            "series" : [
               {
                  "color" : "#ff7a0d",
                  "name" : "hitratio"
               },
               {
                  "color" : "#005467",
                  "opposite" : "true",
                  "name" : "missratio"
               }
            ]
         },
         "title" : "Memcached - cache hit and miss ratio",
         "id" : "11"
      },
      {
         "options" : {
            "series" : {
               "color" : "#005467",
               "name" : "threads"
            },
            "ylabel" : "threads",
            "chart-type" : "area",
            "units" : "null"
         },
         "title" : "Memcached - threads",
         "id" : "12"
      }
   ],
   "statistic" : [
      {
         "units" : "bytes",
         "alias" : "Bytes used",
         "datatype" : "bigint",
         "description" : "Current number of bytes used to store items.",
         "statkey" : "bytes_used"
      },
      {
         "description" : "Current number of bytes free to store items.",
         "units" : "bytes",
         "alias" : "Bytes free",
         "datatype" : "bigint",
         "statkey" : "bytes_free"
      },
      {
         "description" : "Total size in percent memcached is used from the maximum allowed memory size.",
         "datatype" : "float",
         "alias" : "Bytes used",
         "units" : "percent",
         "statkey" : "bytes_used_per"
      },
      {
         "statkey" : "limit_maxbytes",
         "description" : "Number of bytes this server is allowed to use for storage.",
         "datatype" : "bigint",
         "alias" : "Max bytes allowed",
         "units" : "bytes"
      },
      {
         "description" : "Number of bytes read by this server from network per second.",
         "alias" : "Bytes read",
         "datatype" : "float",
         "units" : "bytes",
         "statkey" : "bytes_read"
      },
      {
         "statkey" : "bytes_written",
         "description" : "Number of bytes sent by this server per second.",
         "units" : "bytes",
         "alias" : "Bytes written",
         "datatype" : "float"
      },
      {
         "statkey" : "cmd_flush",
         "description" : "Cumulative number of flush reqs per second.",
         "datatype" : "float",
         "alias" : "Flushes"
      },
      {
         "alias" : "Gets",
         "datatype" : "float",
         "description" : "Cumulative number of retrieval reqs per second.",
         "statkey" : "cmd_get"
      },
      {
         "statkey" : "cmd_set",
         "alias" : "Sets",
         "datatype" : "float",
         "description" : "Cumulative number of storage reqs per second."
      },
      {
         "statkey" : "curr_connections",
         "alias" : "Open connections",
         "datatype" : "bigint",
         "description" : "Number of open connections."
      },
      {
         "description" : "Number of connections opened per second.",
         "datatype" : "float",
         "alias" : "Connections/second",
         "statkey" : "connections"
      },
      {
         "description" : "Current number of items stored.",
         "alias" : "Items stored",
         "datatype" : "bigint",
         "statkey" : "curr_items"
      },
      {
         "description" : "Number of items stored per second.",
         "datatype" : "float",
         "alias" : "Items/second stored",
         "statkey" : "items"
      },
      {
         "description" : "Number of valid items removed from cache to free memory for new items per second.",
         "datatype" : "float",
         "alias" : "Evictions",
         "statkey" : "evictions"
      },
      {
         "statkey" : "reclaimed",
         "datatype" : "float",
         "alias" : "Reclaimed",
         "description" : "Number of times an entry was stored using memory from an expired entry per second."
      },
      {
         "statkey" : "get_hits",
         "alias" : "Hits",
         "datatype" : "float",
         "description" : "Number of keys that have been requested and found present per second."
      },
      {
         "description" : "Number of items that have been requested and not found per second.",
         "alias" : "Misses",
         "datatype" : "float",
         "statkey" : "get_misses"
      },
      {
         "statkey" : "threads",
         "alias" : "Threads",
         "datatype" : "bigint",
         "description" : "Number of worker threads requested."
      }
   ],
   "plugin" : {
      "category" : "System,Caching,Memcached",
      "datatype" : "statistic",
      "command" : "check-memcached",
      "description" : "Memcached statistics",
      "abstract" : "Memcached check",
      "prefer" : "localhost",
      "id" : "41",
      "netaccess" : "yes",
      "plugin" : "Memcached.Check",
      "info" : {
         "plugin" : "check-memcached",
         "options" : [
            {
               "description" : "This is the warning threshold. When the value exceeds the threshold a warning status is triggered. Please see the examples for more information.",
               "mandatory" : 0,
               "option" : "warning",
               "value_desc" : "key:value or key:op:value",
               "name" : "Warning threshold",
               "value_type" : "string",
               "multiple" : 1,
               "default" : null
            },
            {
               "multiple" : 1,
               "value_type" : "string",
               "default" : null,
               "description" : "This is the critical threshold. When the value exceeds the threshold a critical status is triggered. Please see the examples for more information.",
               "mandatory" : 0,
               "option" : "critical",
               "value_desc" : "key:value or key:op:value",
               "name" : "Critical threshold"
            },
            {
               "default" : null,
               "multiple" : 0,
               "value_type" : "string",
               "value_desc" : "hostname or ip address",
               "name" : "Hostname or IP address",
               "mandatory" : 1,
               "option" : "host",
               "description" : "A hostname or IP address to connect to."
            },
            {
               "value_type" : "int",
               "multiple" : 0,
               "default" : 11211,
               "description" : "A port number to connect to.",
               "mandatory" : 0,
               "option" : "port",
               "value_desc" : "port",
               "name" : "Port number"
            },
            {
               "mandatory" : 0,
               "option" : "use-ipv6",
               "default" : null,
               "description" : "Use IPv6 to connect to the host.",
               "value_type" : 0,
               "multiple" : 0,
               "name" : "Use IPv6"
            },
            {
               "name" : "Use secure connection via SSL",
               "multiple" : 0,
               "value_type" : 0,
               "description" : "Use secure connection via SSL.",
               "default" : null,
               "mandatory" : 0,
               "option" : "use-ssl"
            },
            {
               "description" : "A timeout in seconds after its expiration the check is aborted and a critical status is triggered.",
               "option" : "timeout",
               "mandatory" : 0,
               "value_desc" : "seconds",
               "name" : "Timeout",
               "value_type" : "number",
               "multiple" : 0,
               "default" : 10
            }
         ],
         "thresholds" : {
            "info" : [
               "How to set warning and critical thresholds:\n\n",
               "  It's possible to set thresholds for one or more statistic keys.\n",
               "  The format to add a threshold for a statistic key is:\n\n",
               "    key:operator:threshold\n\n",
               "  or if a unit makes sense\n\n",
               "    key:operator:threshold + UNIT\n\n",
               "  where the unit can be in ",
               "bytes",
               ".\n\n",
               "  If no operator is set then the default operator is 'ge'.\n\n",
               "  The following operators are available:\n\n",
               "    lt = less than\n",
               "    le = less than or equal\n",
               "    gt = greater than\n",
               "    ge = greater than or equal\n",
               "    eq = equal\n",
               "    ne = not equal\n",
               "\n",
               "  Allowed units for bytes:\n\n",
               "    KB = Kilobytes   TB = Terabytes   ZB = Zettabytes\n",
               "    MB = Megabytes   PB = Petabytes   YB = Yottabytes\n",
               "    GB = Gigabytes   EB = Exabytes\n\n"
            ],
            "options" : [
               {
                  "unit" : "none",
                  "key" : "time"
               },
               {
                  "unit" : "none",
                  "key" : "curr_connections"
               },
               {
                  "key" : "total_connections",
                  "unit" : "none"
               },
               {
                  "unit" : "none",
                  "key" : "cmd_get"
               },
               {
                  "key" : "cmd_set",
                  "unit" : "none"
               },
               {
                  "unit" : "none",
                  "key" : "cmd_flush"
               },
               {
                  "unit" : "none",
                  "key" : "get_hits"
               },
               {
                  "key" : "get_misses",
                  "unit" : "none"
               },
               {
                  "unit" : "bytes",
                  "key" : "bytes_read"
               },
               {
                  "key" : "bytes_written",
                  "unit" : "bytes"
               },
               {
                  "unit" : "bytes",
                  "key" : "bytes_free"
               },
               {
                  "key" : "bytes_used",
                  "unit" : "bytes"
               },
               {
                  "key" : "bytes_used_per",
                  "unit" : "none"
               },
               {
                  "key" : "limit_maxbytes",
                  "unit" : "bytes"
               },
               {
                  "unit" : "none",
                  "key" : "threads"
               },
               {
                  "unit" : "bytes",
                  "key" : "bytes"
               },
               {
                  "unit" : "none",
                  "key" : "curr_items"
               },
               {
                  "key" : "total_items",
                  "unit" : "none"
               },
               {
                  "unit" : "none",
                  "key" : "evictions"
               },
               {
                  "key" : "reclaimed",
                  "unit" : "none"
               }
            ]
         },
         "examples" : [
            {
               "description" : [
                  "An example to check the memory usage that memcached is allowed to allocate and trigger",
                  "",
                  "- a warning status if more than or equal 90% is in use",
                  "- or a critical status if more than or equal 95% is in use"
               ],
               "command_line" : "check-memcached --warning 'bytes_used_per:ge:90' --critical 'bytes_used_per:ge:95'",
               "arguments" : [
                  "warning",
                  "bytes_used_per:ge:90",
                  "critical",
                  "bytes_used_per:ge:95"
               ]
            }
         ],
         "version" : "0.3",
         "flags" : ""
      }
   }
}
